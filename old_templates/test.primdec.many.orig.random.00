///

LIB("src/test.primdec.many.orig.mp");

LIB("src/randomRing.lib");

//////////////////////////////////////////////////////////////////////////////// 
//////// adjust verbosity
printlevel = 0 ;
TRACE = 0;
echo  = 0;



//////// adjust random ideal generator params: 
TIdealGeneratingParameters genParams = defaultRandomConstructionParams();

genParams.absMaxCoeff       = 300;
genParams.minVarFactorsPerMonomial = 0;
genParams.maxVarFactorsPerMonomial = 3;
genParams.maxTermsPerGen    = 2;
genParams.maxGens           = 3;
genParams.bFractionsOn      = 1;

def genTable = createRandomGeneratorsByParams( genParams  );

 def optionlist = list ("redSB", "redTail");
 
 ////////////////////////////////// random ring options   ////////////////////////////////
  
 // ordering settings
  TOrderingOpts oopts;  
  oopts.wmin = -10;
  oopts.wmax = 5;
  oopts.randomOrd = chooseStraightGlobalOrdering;
  
  // minpoly settings
  TIdealGeneratingParameters minpolyGenParams = defaultRandomConstructionParams();

  minpolyGenParams.absMaxCoeff       = 300;
  minpolyGenParams.minVarFactorsPerMonomial = 0;
  minpolyGenParams.maxVarFactorsPerMonomial = 3;
  minpolyGenParams.maxTermsPerGen    = 4;
  minpolyGenParams.bFractionsOn      = 0;
 
  //////////////////////  composing ring options  //////////////// 
  TRandomRingOpts ropts;

  ropts.maxChar = 200;
  ropts.doExt   = 2; //0:no; 1:yes; 2:randomly
  ropts.maxVars = 5;
  
  ropts.minpolyGenParams = minpolyGenParams;
  ropts.oopts   = oopts;     

  ropts.ordString = randomGLWMixedOrdering; // depends on oopts
 
  /////////////////////////////////////////////////////////////////////////////////////////

  TRandomRingGens rgens = createRandomRingGens(ropts);  

  // def R = rgens.getRing(); setring R;

option(warn);

int trials = 10000000;

testPrimdec( rgens.getRing , genTable, trials, logfile);

///////////////////////////////////////////////////////////

// ./bin/infiniteTestX.sh ../singular-spielwiese test.primdec.many.orig.random_mp.00 randomsetup/ring/char_0__vars_3__ordering__lp__redSB_redTail randomsetup/genTable/maxCoeff_50__degree_0-3__maxTerms_2__maxGens_3__FractionsOff 30 1000000 1




